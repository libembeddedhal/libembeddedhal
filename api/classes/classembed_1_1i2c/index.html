<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.99.1"><meta name=generator content="Relearn 2.9.2
"><meta name=description content><title>embed::i2c :: libembeddedhal docs</title><link href=/libembeddedhal/css/nucleus.css?1653775855 rel=stylesheet><link href=/libembeddedhal/css/fontawesome-all.min.css?1653775855 rel=stylesheet><link href=/libembeddedhal/css/featherlight.min.css?1653775855 rel=stylesheet><link href=/libembeddedhal/css/perfect-scrollbar.min.css?1653775855 rel=stylesheet><link href=/libembeddedhal/css/auto-complete.css?1653775855 rel=stylesheet><link href=/libembeddedhal/css/theme.css?1653775855 rel=stylesheet><link href=/libembeddedhal/css/theme-green.css?1653775855 rel=stylesheet><link href=/libembeddedhal/css/variant.css?1653775855 rel=stylesheet><link href=/libembeddedhal/css/print.css?1653775855 rel=stylesheet media=print><script src=/libembeddedhal/js/jquery.min.js?1653775855></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/libembeddedhal/api/classes/classembed_1_1i2c/><script>var index_url="/libembeddedhal/index.json",root_url="/",baseUri=root_url.replace(/\/$/,'')</script><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=/libembeddedhal/ style="color:#3d414d;font-family:work sans,helvetica,tahoma,geneva,arial,sans-serif;font-size:30px;font-weight:300;margin-top:-2px;text-transform:uppercase"><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 310.797 310.797" style="enable-background:new 0 0 310.797 310.797;width:50%"><g><path d="M208.859 27.307 208.8 11.308 189.311.0l-87.893 51.407.11 19.635L63.697 93.104l.073 47.457-18.592 11.161-.155 101.334 20.214 11.833 12.422-7.502 18.173 11.395v30.12l20.075 11.895 87.333-50.921-.053-21.302 45.583-26.463v-38.133l17.004-10.152V60.551L208.859 27.307zm-21.557 6.085 6.559-3.846.048 23.674-6.607 3.86V33.392zM158.816 50.059l6.558-3.836.049 23.653-6.606 3.86V50.059zm-29.643 17.33 6.558-3.844.049 23.68-6.606 3.871V67.389zM101.529 87.725l-.049 13.891 20.164 11.813 87.158-51.046.095-17.363 23.033 14.225-107.389 63.021L83.517 98.361l18.012-10.636zM73.18 167.153l20.375-12.225-.105 7.768-20.383 12.171.113-7.714zM72.604 203.263l.018-1.205 20.374-12.225-.105 7.768-20.382 12.17L72.604 203.263zM72.846 242.79l.113-7.716 19.222-11.532-.106 7.768-19.229 11.48zm43.924 21.416-24.647-15.455 14.838-8.553.311-101.059-20.912-12.13-7.59 4.552v-18.703l38 22.237V264.206zm6.706 25.577.086-4.327 6.5-3.833.02 4.32L123.476 289.783zm29.643-17.314v-4.324l6.603-3.849.004 4.303-6.607 3.87zm28.487-16.641v-4.336l6.602-3.861.004 4.296L181.606 255.828zm52.164-51.621-102 59.915V134.869l102-59.72V204.207zm18.042-49.549-3.042 1.85v-7.696l3.167-1.964-.125 7.81zm-3.042-31.371v-7.695l3.151-1.969.139 7.721L248.77 123.287zm3.493-36.656-3.493 2.086v-7.694l3.599-2.159L252.263 86.631z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg></br><svg viewBox="0 0 300 25"><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle">libembeddedhal</text></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script src=/libembeddedhal/js/lunr.min.js?1653775855></script>
<script src=/libembeddedhal/js/auto-complete.js?1653775855></script>
<script src=/libembeddedhal/js/search.js?1653775855></script></div><div id=homelinks><ul><li><a class=padding href=/libembeddedhal/><i class="fas fa-home"></i> Home</a></li></ul></div><div class=highlightable><ul class=topics><li data-nav-id=/libembeddedhal/installation/ title=Installation class=dd-item><a href=/libembeddedhal/installation/><b>1. </b>Installation</a><ul><li data-nav-id=/libembeddedhal/installation/getting_started/ title="Getting Started" class=dd-item><a href=/libembeddedhal/installation/getting_started/>Getting Started</a></li><li data-nav-id=/libembeddedhal/installation/flashing/ title=Flashing class=dd-item><a href=/libembeddedhal/installation/flashing/>Flashing</a></li><li data-nav-id=/libembeddedhal/installation/jtag/ title=Debugging class=dd-item><a href=/libembeddedhal/installation/jtag/>Debugging</a></li><li data-nav-id=/libembeddedhal/installation/exploring_the_ecosystem/ title="Exploring the Ecosystem" class=dd-item><a href=/libembeddedhal/installation/exploring_the_ecosystem/>Exploring the Ecosystem</a></li></ul></li><li data-nav-id=/libembeddedhal/guides/ title=Guides class=dd-item><a href=/libembeddedhal/guides/><b>2. </b>Guides</a><ul><li data-nav-id=/libembeddedhal/guides/new_project/ title="Creating a Project" class=dd-item><a href=/libembeddedhal/guides/new_project/>Creating a Project</a></li><li data-nav-id=/libembeddedhal/guides/driver_usage/ title="How to Use Drivers" class=dd-item><a href=/libembeddedhal/guides/driver_usage/>How to Use Drivers</a></li><li data-nav-id=/libembeddedhal/guides/error_handling/ title="Error Handling" class=dd-item><a href=/libembeddedhal/guides/error_handling/>Error Handling</a></li><li data-nav-id=/libembeddedhal/guides/multiplatform_apps/ title="Multiplatform Applications" class=dd-item><a href=/libembeddedhal/guides/multiplatform_apps/>Multiplatform Applications</a></li><li data-nav-id=/libembeddedhal/guides/unit_testing/ title="Unit Testing" class=dd-item><a href=/libembeddedhal/guides/unit_testing/>Unit Testing</a></li><li data-nav-id=/libembeddedhal/guides/using_floats/ title="Using Floats" class=dd-item><a href=/libembeddedhal/guides/using_floats/>Using Floats</a></li></ul></li><li data-nav-id=/libembeddedhal/api/ title=API class="dd-item parent"><a href=/libembeddedhal/api/><b>3. </b>API</a><ul><li data-nav-id=/libembeddedhal/api/classes/ title=Classes class="dd-item parent alwaysopen"><a href=/libembeddedhal/api/classes/>Classes</a><ul><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1accelerometer/ title=embed::accelerometer class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1accelerometer/>embed::accelerometer</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1accelerometer_1_1sample/ title=embed::accelerometer::sample class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1accelerometer_1_1sample/>embed::accelerometer::sample</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1accelerometer_1_1sample_1_1axis__t/ title=embed::accelerometer::sample::axis_t class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1accelerometer_1_1sample_1_1axis__t/>embed::accelerometer::sample::axis_t</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1adc/ title=embed::adc class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1adc/>embed::adc</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1bit__limits/ title=embed::bit_limits class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1bit__limits/>embed::bit_limits</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1can/ title=embed::can class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1can/>embed::can</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1can__network/ title=embed::can_network class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1can__network/>embed::can_network</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1can__network_1_1node__t/ title=embed::can_network::node_t class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1can__network_1_1node__t/>embed::can_network::node_t</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1can_1_1message__t/ title=embed::can::message_t class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1can_1_1message__t/>embed::can::message_t</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1can_1_1settings/ title=embed::can::settings class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1can_1_1settings/>embed::can::settings</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1counter/ title=embed::counter class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1counter/>embed::counter</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1counter_1_1uptime__t/ title=embed::counter::uptime_t class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1counter_1_1uptime__t/>embed::counter::uptime_t</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1dac/ title=embed::dac class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1dac/>embed::dac</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1duty__cycle/ title=embed::duty_cycle class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1duty__cycle/>embed::duty_cycle</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1error_1_1invalid__option__t/ title=embed::error::invalid_option_t class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1error_1_1invalid__option__t/>embed::error::invalid_option_t</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1error_1_1invalid__settings/ title=embed::error::invalid_settings class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1error_1_1invalid__settings/>embed::error::invalid_settings</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1error_1_1stacktrace/ title=embed::error::stacktrace class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1error_1_1stacktrace/>embed::error::stacktrace</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1error_1_1timeout/ title=embed::error::timeout class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1error_1_1timeout/>embed::error::timeout</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1error_1_1universal/ title=embed::error::universal class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1error_1_1universal/>embed::error::universal</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1frequency/ title=embed::frequency class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1frequency/>embed::frequency</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1i2c/ title=embed::i2c class="dd-item active"><a href=/libembeddedhal/api/classes/classembed_1_1i2c/>embed::i2c</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1i2c_1_1settings/ title=embed::i2c::settings class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1i2c_1_1settings/>embed::i2c::settings</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1input__pin/ title=embed::input_pin class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1input__pin/>embed::input_pin</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1input__pin_1_1settings/ title=embed::input_pin::settings class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1input__pin_1_1settings/>embed::input_pin::settings</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1interrupt__pin/ title=embed::interrupt_pin class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1interrupt__pin/>embed::interrupt_pin</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1interrupt__pin_1_1settings/ title=embed::interrupt_pin::settings class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1interrupt__pin_1_1settings/>embed::interrupt_pin::settings</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1microkelvin/ title=embed::microkelvin class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1microkelvin/>embed::microkelvin</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1micrometre__per__second__sq/ title=embed::micrometre_per_second_sq class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1micrometre__per__second__sq/>embed::micrometre_per_second_sq</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1millikelvin/ title=embed::millikelvin class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1millikelvin/>embed::millikelvin</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1millimetre__per__second__sq/ title=embed::millimetre_per_second_sq class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1millimetre__per__second__sq/>embed::millimetre_per_second_sq</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1mock_1_1dac/ title=embed::mock::dac class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1mock_1_1dac/>embed::mock::dac</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1mock_1_1motor/ title=embed::mock::motor class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1mock_1_1motor/>embed::mock::motor</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1mock_1_1pwm/ title=embed::mock::pwm class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1mock_1_1pwm/>embed::mock::pwm</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1mock_1_1timer/ title=embed::mock::timer class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1mock_1_1timer/>embed::mock::timer</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1mock_1_1write__only__spi/ title=embed::mock::write_only_spi class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1mock_1_1write__only__spi/>embed::mock::write_only_spi</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1motor/ title=embed::motor class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1motor/>embed::motor</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1nanokelvin/ title=embed::nanokelvin class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1nanokelvin/>embed::nanokelvin</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1nanometre__per__second__sq/ title=embed::nanometre_per_second_sq class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1nanometre__per__second__sq/>embed::nanometre_per_second_sq</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1output__pin/ title=embed::output_pin class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1output__pin/>embed::output_pin</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1output__pin_1_1settings/ title=embed::output_pin::settings class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1output__pin_1_1settings/>embed::output_pin::settings</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1overflow__counter/ title=embed::overflow_counter class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1overflow__counter/>embed::overflow_counter</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1percent/ title=embed::percent class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1percent/>embed::percent</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1pwm/ title=embed::pwm class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1pwm/>embed::pwm</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1pwm_1_1settings/ title=embed::pwm::settings class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1pwm_1_1settings/>embed::pwm::settings</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1serial/ title=embed::serial class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1serial/>embed::serial</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1serial_1_1frame__error/ title=embed::serial::frame_error class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1serial_1_1frame__error/>embed::serial::frame_error</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1serial_1_1packets__lost/ title=embed::serial::packets_lost class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1serial_1_1packets__lost/>embed::serial::packets_lost</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1serial_1_1parity__error/ title=embed::serial::parity_error class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1serial_1_1parity__error/>embed::serial::parity_error</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1serial_1_1settings/ title=embed::serial::settings class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1serial_1_1settings/>embed::serial::settings</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1spi/ title=embed::spi class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1spi/>embed::spi</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1spi_1_1settings/ title=embed::spi::settings class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1spi_1_1settings/>embed::spi::settings</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1spy__handler/ title=embed::spy_handler class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1spy__handler/>embed::spy_handler</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1static__callable/ title=embed::static_callable class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1static__callable/>embed::static_callable</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1static__callable_3_01owner__class_00_01reference__designator_00_01return__t_07args__t_8_8_8_01p__args_08_4/ title="embed::static_callable< owner_class, reference_designator, return_t(args_t... p_args)>" class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1static__callable_3_01owner__class_00_01reference__designator_00_01return__t_07args__t_8_8_8_01p__args_08_4/>embed::static_callable&lt; owner_class, reference_designator, return_t(args_t... p_args)></a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1static__memory__resource/ title=embed::static_memory_resource class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1static__memory__resource/>embed::static_memory_resource</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1stub_1_1adc/ title=embed::stub::adc class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1stub_1_1adc/>embed::stub::adc</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1stub_1_1dac/ title=embed::stub::dac class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1stub_1_1dac/>embed::stub::dac</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1stub_1_1serial/ title=embed::stub::serial class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1stub_1_1serial/>embed::stub::serial</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1stub_1_1spi/ title=embed::stub::spi class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1stub_1_1spi/>embed::stub::spi</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1stub_1_1timer/ title=embed::stub::timer class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1stub_1_1timer/>embed::stub::timer</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1temperature__sensor/ title=embed::temperature_sensor class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1temperature__sensor/>embed::temperature_sensor</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1this__thread_1_1global__clocks/ title=embed::this_thread::global_clocks class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1this__thread_1_1global__clocks/>embed::this_thread::global_clocks</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1timer/ title=embed::timer class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1timer/>embed::timer</a></li><li data-nav-id=/libembeddedhal/api/classes/structembed_1_1timer_1_1out__of__bounds/ title=embed::timer::out_of_bounds class=dd-item><a href=/libembeddedhal/api/classes/structembed_1_1timer_1_1out__of__bounds/>embed::timer::out_of_bounds</a></li><li data-nav-id=/libembeddedhal/api/classes/classembed_1_1uptime__counter/ title=embed::uptime_counter class=dd-item><a href=/libembeddedhal/api/classes/classembed_1_1uptime__counter/>embed::uptime_counter</a></li></ul></li><li data-nav-id=/libembeddedhal/api/modules/ title=Modules class="dd-item alwaysopen"><a href=/libembeddedhal/api/modules/>Modules</a><ul></ul></li><li data-nav-id=/libembeddedhal/api/namespaces/ title=Namespaces class="dd-item alwaysopen"><a href=/libembeddedhal/api/namespaces/>Namespaces</a><ul><li data-nav-id=/libembeddedhal/api/namespaces/namespaceembed/ title=embed class=dd-item><a href=/libembeddedhal/api/namespaces/namespaceembed/>embed</a></li><li data-nav-id=/libembeddedhal/api/namespaces/namespaceembed_1_1config/ title=embed::config class=dd-item><a href=/libembeddedhal/api/namespaces/namespaceembed_1_1config/>embed::config</a></li><li data-nav-id=/libembeddedhal/api/namespaces/namespaceembed_1_1config_1_1defaults/ title=embed::config::defaults class=dd-item><a href=/libembeddedhal/api/namespaces/namespaceembed_1_1config_1_1defaults/>embed::config::defaults</a></li><li data-nav-id=/libembeddedhal/api/namespaces/namespaceembed_1_1error/ title=embed::error class=dd-item><a href=/libembeddedhal/api/namespaces/namespaceembed_1_1error/>embed::error</a></li><li data-nav-id=/libembeddedhal/api/namespaces/namespaceembed_1_1literals/ title=embed::literals class=dd-item><a href=/libembeddedhal/api/namespaces/namespaceembed_1_1literals/>embed::literals</a></li><li data-nav-id=/libembeddedhal/api/namespaces/namespaceembed_1_1mock/ title=embed::mock class=dd-item><a href=/libembeddedhal/api/namespaces/namespaceembed_1_1mock/>embed::mock</a></li><li data-nav-id=/libembeddedhal/api/namespaces/namespaceembed_1_1stub/ title=embed::stub class=dd-item><a href=/libembeddedhal/api/namespaces/namespaceembed_1_1stub/>embed::stub</a></li><li data-nav-id=/libembeddedhal/api/namespaces/namespaceembed_1_1this__thread/ title=embed::this_thread class=dd-item><a href=/libembeddedhal/api/namespaces/namespaceembed_1_1this__thread/>embed::this_thread</a></li><li data-nav-id=/libembeddedhal/api/namespaces/namespaceunits/ title=units class=dd-item><a href=/libembeddedhal/api/namespaces/namespaceunits/>units</a></li></ul></li><li data-nav-id=/libembeddedhal/api/pages/ title=Pages class="dd-item alwaysopen"><a href=/libembeddedhal/api/pages/>Pages</a><ul></ul></li></ul></li><li data-nav-id=/libembeddedhal/design/ title=Design class=dd-item><a href=/libembeddedhal/design/><b>4. </b>Design</a><ul><li data-nav-id=/libembeddedhal/design/driver_design/ title="Driver Interface Design" class=dd-item><a href=/libembeddedhal/design/driver_design/>Driver Interface Design</a></li><li data-nav-id=/libembeddedhal/design/error_handling_design/ title="Error Handling Design" class=dd-item><a href=/libembeddedhal/design/error_handling_design/>Error Handling Design</a></li><li data-nav-id=/libembeddedhal/design/driver_wrappers/ title="Driver Wrappers Design" class=dd-item><a href=/libembeddedhal/design/driver_wrappers/>Driver Wrappers Design</a></li><li data-nav-id=/libembeddedhal/design/handmade_mocks/ title="Handwritten Driver Mocks" class=dd-item><a href=/libembeddedhal/design/handmade_mocks/>Handwritten Driver Mocks</a></li></ul></li><li data-nav-id=/libembeddedhal/expanding/ title="Expanding the Ecosystem" class=dd-item><a href=/libembeddedhal/expanding/><b>5. </b>Expanding the Ecosystem</a><ul><li data-nav-id=/libembeddedhal/expanding/creating_device/ title="Creating a Device Driver" class=dd-item><a href=/libembeddedhal/expanding/creating_device/>Creating a Device Driver</a></li><li data-nav-id=/libembeddedhal/expanding/creating_platform/ title="Creating a Platform" class=dd-item><a href=/libembeddedhal/expanding/creating_platform/>Creating a Platform</a></li><li data-nav-id=/libembeddedhal/expanding/creating_utilities/ title="Creating a Utility Library" class=dd-item><a href=/libembeddedhal/expanding/creating_utilities/>Creating a Utility Library</a></li></ul></li><li data-nav-id=/libembeddedhal/contribution/ title=Contributing class=dd-item><a href=/libembeddedhal/contribution/><b>6. </b>Contributing</a><ul></ul></li></ul><div id=shortcuts><div class=nav-title>More</div><ul><li><a class=padding href=/libembeddedhal/><i><img height=150 src=https://upload.wikimedia.org/wikipedia/commons/b/b5/Conan_package_manager_logo.png style=height:1em></i> Search conan</a></li><li><a class=padding href=/libembeddedhal/><i><img height=150 src=https://vcpkg.io/assets/mark/mark.svg style=height:1em></i> Search vcpkg</a></li><li><a class=padding href=https://github.com/SJSU-Dev2/libembeddedhal><i class="fab fa-fw fa-github"></i> GitHub</a></li><li><a class=padding href=/libembeddedhal/libembeddedhal/showcase/><i class="fas fa-fw fa-camera"></i> Showcases</a></li><li><a class=padding href=/libembeddedhal/libembeddedhal/credits/><i class="fas fa-fw fa-bullhorn"></i> Credits</a></li></ul></div><div id=footer><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></nav><div id=body><div id=overlay></div><div class="padding highlightable"><div id=top-bar><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="4"><a itemprop=item href=/libembeddedhal/><span itemprop=name>Welcome</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3"><a itemprop=item href=/libembeddedhal/api/><span itemprop=name>API</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="2"><a itemprop=item href=/libembeddedhal/api/classes/><span itemprop=name>Classes</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="1"><a itemprop=item href=/libembeddedhal/api/classes/classembed_1_1i2c/ aria-disabled=true><span itemprop=name>embed::i2c</span></a></li></ol></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#public-classes>Public Classes</a></li><li><a href=#public-types>Public Types</a></li><li><a href=#public-functions>Public Functions</a></li><li><a href=#public-types-documentation>Public Types Documentation</a><ul><li><a href=#enum-errors>enum errors</a></li></ul></li><li><a href=#public-functions-documentation>Public Functions Documentation</a><ul><li><a href=#function-configure>function configure</a></li><li><a href=#function-transaction>function transaction</a></li></ul></li></ul></nav></div></div></div><div id=head-tags></div><main id=body-inner><h1>embed::i2c</h1><p><strong>embed::i2c Class Reference</strong></p><p>Inter-integrated Circuit (I2C) or Two Wire Interface (TWI) communication protocol hardware abstract interface.</p><p><code>#include &lt;interface.hpp></code></p><h2 id=public-classes>Public Classes</h2><table><thead><tr><th></th><th>Name</th></tr></thead><tbody><tr><td>struct</td><td><strong><a href=classes/structembed_1_1i2c_1_1settings/>settings</a></strong> Generic settings for a standard I2C device.</td></tr></tbody></table><h2 id=public-types>Public Types</h2><table><thead><tr><th></th><th>Name</th></tr></thead><tbody><tr><td>enum class</td><td><strong><a href=classes/classembed_1_1i2c/#enum-errors>errors</a></strong> { address_not_acknowledged, bus_error}General errors associated with I2C communication failures.</td></tr></tbody></table><h2 id=public-functions>Public Functions</h2><table><thead><tr><th></th><th>Name</th></tr></thead><tbody><tr><td>boost::leaf::result&lt; void ></td><td><strong><a href=classes/classembed_1_1i2c/#function-configure>configure</a></strong>(const <a href=classes/structembed_1_1i2c_1_1settings/>settings</a> & p_settings)Configure <a href=classes/classembed_1_1i2c/>i2c</a> to match the settings supplied.</td></tr><tr><td>boost::leaf::result&lt; void ></td><td><strong><a href=classes/classembed_1_1i2c/#function-transaction>transaction</a></strong>(std::byte p_address, std::span&lt; const std::byte > p_data_out, std::span&lt; std::byte > p_data_in)perform an <a href=classes/classembed_1_1i2c/>i2c</a> transaction with another device on the bus. The type of transaction depends on values of input parameters. This function will block until the entire transfer is finished.</td></tr></tbody></table><h2 id=public-types-documentation>Public Types Documentation</h2><h3 id=enum-errors>enum errors</h3><table><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>address_not_acknowledged</td><td></td><td>Error type indicating that the <a href=classes/classembed_1_1i2c/>i2c</a> transaction resulted in a NACK, meaning &ldquo;not acknowledge&rdquo;. NACKs occur when an address has been placed on the <a href=classes/classembed_1_1i2c/>i2c</a> bus and no device connected to the bus returned an acknowledge signal. <strong>How to handle these errors:</strong></td></tr></tbody></table><ul><li><p>In cases where the program is scanning for available addresses, this error is expected behaviour. This is less of an error to handle but an expected return status.</p></li><li><p>If a driver has a set of possible addresses that it can use, and for that driver it makes sense to attempt to search for the valid address, then a handler can keep performing transactions until a valid address is found and then store that address.</p></li><li><p>In the case where the address is consistently NACK&rsquo;ed but the driver expects a specific address, this is typically not handleable and indicates that the application or driver is incorrect in the device address.</p></li><li><p>In the case where NACK&rsquo;s are spurious, then this may indicate that the <a href=classes/classembed_1_1i2c/>i2c</a> line is faulty or the device is misbehaving. This is not fixable in the application. But in some cases, if a software solution is required, the driver or application can simply retry again until a valid response is returned, but results may vary and are very specific to the devices and context of the situation. |
| bus_error | | Error type indicating that the <a href=classes/classembed_1_1i2c/>i2c</a> lines were put into an invalid state during the transaction due to interference, misconfiguration of the <a href=classes/classembed_1_1i2c/>i2c</a> peripheral or the addressed device or something else. <strong>How to handle these errors:</strong></p></li><li><p>In the event of this type of error, state the addressed device undefined. In the case of data reception, the data coming from the addressed device should be considered invalid. Any deeper handling will require deep context regarding the addressed device the transaction taking place. |</p></li></ul><p>General errors associated with I2C communication failures.</p><h2 id=public-functions-documentation>Public Functions Documentation</h2><h3 id=function-configure>function configure</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>inline</span> boost<span style=color:#f92672>::</span>leaf<span style=color:#f92672>::</span>result<span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>void</span> <span style=color:#f92672>&gt;</span> configure(
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> settings <span style=color:#f92672>&amp;</span> p_settings
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><p>Configure <a href=classes/classembed_1_1i2c/>i2c</a> to match the settings supplied.</p><p><strong>Parameters</strong>:</p><ul><li><strong>p_settings</strong> - settings to apply to <a href=classes/classembed_1_1i2c/>i2c</a> driver</li></ul><p><strong>Return</strong>: boost::leaf::result - any error that occurred during this operation. Will return <a href=classes/structembed_1_1error_1_1invalid__settings/>embed::error::invalid_settings</a> if the settings could not be achieved.</p><h3 id=function-transaction>function transaction</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>inline</span> boost<span style=color:#f92672>::</span>leaf<span style=color:#f92672>::</span>result<span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>void</span> <span style=color:#f92672>&gt;</span> transaction(
</span></span><span style=display:flex><span>    std<span style=color:#f92672>::</span>byte p_address,
</span></span><span style=display:flex><span>    std<span style=color:#f92672>::</span>span<span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>const</span> std<span style=color:#f92672>::</span>byte <span style=color:#f92672>&gt;</span> p_data_out,
</span></span><span style=display:flex><span>    std<span style=color:#f92672>::</span>span<span style=color:#f92672>&lt;</span> std<span style=color:#f92672>::</span>byte <span style=color:#f92672>&gt;</span> p_data_in
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><p>perform an <a href=classes/classembed_1_1i2c/>i2c</a> transaction with another device on the bus. The type of transaction depends on values of input parameters. This function will block until the entire transfer is finished.</p><p><strong>Parameters</strong>:</p><ul><li><strong>p_address</strong> 7-bit address of the device you want to communicate with. To perform a transaction with a 10-bit address, this parameter must be the address upper byte of the 10-bit address OR&rsquo;d with 0b1111'0000 (the 10-bit address indicator). The lower byte of the address must be contained in the first byte of the p_data_out span.</li><li><strong>p_data_out</strong> data to be written to the addressed device. Set to nullptr with length zero in order to skip writting.</li><li><strong>p_data_in</strong> buffer to store read data from the addressed device. Set to nullptr with length 0 in order to skip reading.</li></ul><p><strong>Return</strong>: boost::leaf::result - any error that occurred during this operation.</p><p>Performing Write, Read and Write-Then-Read transactions depends on which span for data_out and data_in are set to null.</p><ul><li>For write transactions, pass p_data_in as an empty span <code>std::span&lt;std::byte>{}</code> and pass a buffer to p_data_out.</li><li>For read transactions, pass p_data_out as an empty span <code>std::span&lt;const std::byte>{}</code> and pass a buffer to p_data_in.</li><li>For write-then-read transactions, pass a buffer for both p_data_in p_data_out.
In the event of arbitration loss, this function will wait for the bus to become free and try again. Arbitration loss means that during the address phase of a transaction 1 or more <a href=classes/classembed_1_1i2c/>i2c</a> bus controllers attempted to perform an transaction and one of the <a href=classes/classembed_1_1i2c/>i2c</a> bus controllers, that isn&rsquo;t this one won out.</li></ul><hr><p>Updated on 2022-05-28 at 22:10:55 +0000</p><footer class=footline></footer></main></div><div id=navigation><a class="nav nav-prev" href=/libembeddedhal/api/classes/classembed_1_1frequency/ title=embed::frequency><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/libembeddedhal/api/classes/structembed_1_1i2c_1_1settings/ title=embed::i2c::settings><i class="fa fa-chevron-right"></i></a></div></div><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/libembeddedhal/js/clipboard.min.js?1653775855></script>
<script src=/libembeddedhal/js/perfect-scrollbar.min.js?1653775855></script>
<script src=/libembeddedhal/js/perfect-scrollbar.jquery.min.js?1653775855></script>
<script src=/libembeddedhal/js/jquery.svg.pan.zoom.js?1653775855></script>
<script src=/libembeddedhal/js/featherlight.min.js?1653775855></script>
<script src=/libembeddedhal/js/modernizr.custom-3.6.0.js?1653775855></script>
<script src=/libembeddedhal/js/mermaid.min.js?1653775855></script>
<script>typeof mermaid!="undefined"&&typeof mermaid.mermaidAPI!="undefined"&&mermaid.mermaidAPI.initialize(Object.assign({securityLevel:"antiscript"},JSON.parse('{ "startOnLoad": true }'),{startOnLoad:!1}))</script><script src=/libembeddedhal/js/relearn.js?1653775855></script></body></html>